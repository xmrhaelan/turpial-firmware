

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Class WebSocketInputStreambuf &mdash; turpial-firmware  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/collapsible-lists/js/CollapsibleLists.compressed.js"></script>
        <script type="text/javascript" src="../_static/collapsible-lists/js/apply-collapsible-lists.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/collapsible-lists/css/tree_view.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Class WebSocketReader" href="classWebSocketReader.html" />
    <link rel="prev" title="Class WebSocketHandler" href="classWebSocketHandler.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> turpial-firmware
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="library_root.html">Library API</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">turpial-firmware</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="library_root.html">Library API</a> &raquo;</li>
        
      <li>Class WebSocketInputStreambuf</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/classWebSocketInputStreambuf.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="class-websocketinputstreambuf">
<span id="exhale-class-classwebsocketinputstreambuf"></span><h1>Class WebSocketInputStreambuf<a class="headerlink" href="#class-websocketinputstreambuf" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Defined in <a class="reference internal" href="file_components_WS_src_WebSocket.h.html#file-components-ws-src-websocket-h"><span class="std std-ref">File WebSocket.h</span></a></p></li>
</ul>
<div class="section" id="inheritance-relationships">
<h2>Inheritance Relationships<a class="headerlink" href="#inheritance-relationships" title="Permalink to this headline">¶</a></h2>
<div class="section" id="base-type">
<h3>Base Type<a class="headerlink" href="#base-type" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">public</span> <span class="pre">streambuf</span></code></p></li>
</ul>
</div>
</div>
<div class="section" id="class-documentation">
<h2>Class Documentation<a class="headerlink" href="#class-documentation" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="_CPPv423WebSocketInputStreambuf">
<span id="_CPPv323WebSocketInputStreambuf"></span><span id="_CPPv223WebSocketInputStreambuf"></span><span id="WebSocketInputStreambuf"></span><span class="target" id="classWebSocketInputStreambuf"></span><em class="property">class </em><code class="sig-name descname">WebSocketInputStreambuf</code> : <em class="property">public</em> streambuf<a class="headerlink" href="#_CPPv423WebSocketInputStreambuf" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="function">
<dt id="_CPPv4N23WebSocketInputStreambuf23WebSocketInputStreambufE6Socket6size_tP7uint8_t6size_t">
<span id="_CPPv3N23WebSocketInputStreambuf23WebSocketInputStreambufE6Socket6size_tP7uint8_t6size_t"></span><span id="_CPPv2N23WebSocketInputStreambuf23WebSocketInputStreambufE6Socket6size_tP7uint8_t6size_t"></span><span id="WebSocketInputStreambuf::WebSocketInputStreambuf__Socket.s.uint8_tP.s"></span><span class="target" id="classWebSocketInputStreambuf_1a89ecd4bd0c30e8681bce57217b107502"></span><code class="sig-name descname">WebSocketInputStreambuf</code><span class="sig-paren">(</span><a class="reference internal" href="classSocket.html#_CPPv46Socket" title="Socket">Socket</a> <em>socket</em>, size_t <em>dataLength</em>, uint8_t *<em>pMask</em> = nullptr, size_t <em>bufferSize</em> = 2048<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N23WebSocketInputStreambuf23WebSocketInputStreambufE6Socket6size_tP7uint8_t6size_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Create a Web <a class="reference internal" href="classSocket.html#classSocket"><span class="std std-ref">Socket</span></a> input record streambuf. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">socket</span></code>: The socket we will be reading from. </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">dataLength</span></code>: The size of a record. </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">bufferSize</span></code>: The size of the buffer we wish to allocate to hold data. </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N23WebSocketInputStreambufD0Ev">
<span id="_CPPv3N23WebSocketInputStreambufD0Ev"></span><span id="_CPPv2N23WebSocketInputStreambufD0Ev"></span><span id="WebSocketInputStreambuf::~WebSocketInputStreambuf"></span><span class="target" id="classWebSocketInputStreambuf_1ab2452c9871aa4c0404e773d6b7dc02cb"></span><code class="sig-name descname">~WebSocketInputStreambuf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N23WebSocketInputStreambufD0Ev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Destructor. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N23WebSocketInputStreambuf9underflowEv">
<span id="_CPPv3N23WebSocketInputStreambuf9underflowEv"></span><span id="_CPPv2N23WebSocketInputStreambuf9underflowEv"></span><span id="WebSocketInputStreambuf::underflow"></span><span class="target" id="classWebSocketInputStreambuf_1aed7065a593c58510569031142ce62e94"></span><a class="reference internal" href="#_CPPv423WebSocketInputStreambuf" title="WebSocketInputStreambuf">WebSocketInputStreambuf</a>::int_type <code class="sig-name descname">underflow</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N23WebSocketInputStreambuf9underflowEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Handle the request to read data from the stream but we need more data from the source. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N23WebSocketInputStreambuf7discardEv">
<span id="_CPPv3N23WebSocketInputStreambuf7discardEv"></span><span id="_CPPv2N23WebSocketInputStreambuf7discardEv"></span><span id="WebSocketInputStreambuf::discard"></span><span class="target" id="classWebSocketInputStreambuf_1af91a50709423669d4ade7713a612dc64"></span>void <code class="sig-name descname">discard</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N23WebSocketInputStreambuf7discardEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Discard data for the record that has not yet been read. </p>
<p>We are working on a logical fixed length record in a socket stream. This means that we know in advance how big the record should be. If we have read some data from the stream and no longer wish to consume any further, we have to discard the remaining bytes in the stream before we can get to process the next record. This function discards the remainder of the data.</p>
<p>For example, if our record size is 1000 bytes and we have read 700 bytes and determine that we no longer need to continue, we can’t just stop. There are still 300 bytes in the socket stream that need to be consumed/discarded before we can move on to the next record. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N23WebSocketInputStreambuf13getRecordSizeEv">
<span id="_CPPv3N23WebSocketInputStreambuf13getRecordSizeEv"></span><span id="_CPPv2N23WebSocketInputStreambuf13getRecordSizeEv"></span><span id="WebSocketInputStreambuf::getRecordSize"></span><span class="target" id="classWebSocketInputStreambuf_1a8cf5dcebbeefc1670767ac619472e0bb"></span>size_t <code class="sig-name descname">getRecordSize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N23WebSocketInputStreambuf13getRecordSizeEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get the size of the expected record. </p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>The size of the expected record. </p>
</dd>
</dl>
</p>
</dd></dl>

</div>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="classWebSocketReader.html" class="btn btn-neutral float-right" title="Class WebSocketReader" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="classWebSocketHandler.html" class="btn btn-neutral float-left" title="Class WebSocketHandler" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Locha Mesh developers

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>